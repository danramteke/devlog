PATH=$PATH:~/bin
export EDITOR='subl -w'
[[ -s "$HOME/.rvm/scripts/rvm" ]] && source "$HOME/.rvm/scripts/rvm" # Load RVM into a shell session *as a function*


RED="\033[0;31m"
YELLOW="\033[0;33m"
GREEN="\033[0;32m"
NO_COLOUR="\033[0m"


function parse_git_branch () {
   git status -b --porcelain 2> /dev/null | head -1 | sed -e 's/## //'
}

function parse_git_status () {
	if [ -z "`git status --porcelain 2> /dev/null`" ]
	then 
		echo -e "$GREEN(`parse_git_branch`)"
	elif [ -z "`git st --porcelain 2> /dev/null | grep -v -E "^[MARC]  .*$"`" ]
	then
		echo -e "$YELLOW{`parse_git_branch`}"
	else
		echo -e "$RED<`parse_git_branch`>"
	fi
}

export PS1="$GREEN\u$NO_COLOUR:\w \$(parse_git_status)$NO_COLOUR\$ "